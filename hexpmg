#!/bin/bash

#########
# V 1.14#
#########



# colors
red='\033[0;31m'
blue='\033[0;34m'
green='\033[0;32m'
purple='\033[0;35m'
NC='\033[0m' # No Color



case $1 in

# install a program
  -i)
     echo -e "${green}Downloading${purple}"
     sh <(curl -v -L https://raw.githubusercontent.com/hexisXz/hexpmg-repo/main/$2/$2-pkg) 2> /dev/null

    case $? in
         1)
          echo -e "${red}Error wrong URL" && exit 1

         ;;
    esac

     echo -e "${green}Done"


    ;;


# list all installed programs
  -l)
    ls -al /usr/local/src/

   ;;


# uninstall hexpmg
  -UN)
     exec ~/.config/hexpmg/uninstall/uninstall
     ;;

# update hexpmg
  -UP)
     exec ~/.config/hexpmg/update/update
     ;;

# remove a program
  -R)
    echo -e "${red}removing program"
    cd /usr/local/src/$2 && sh <(curl -v -L https://raw.githubusercontent.com/hexisXz/hexpmg-repo/main/$2/uninstall)    

    echo -e "${green}Done"

    ;;

# update a program
   -U)
      echo -e "${purple}updating program${blue}"
      cd /usr/local/src/$2 && sh <(curl -v -L https://raw.githubusercontent.com/hexisXz/hexpmg-repo/main/$2/uninstall) 

      sh <(curl -v -L https://raw.githubusercontent.com/hexisXz/hexpmg-repo/main/neofetch/$2-pkg) 2> /dev/null

      case $? in
           1)
            echo -e "${red}Error wrong URL" && exit 1

           ;;
      esac

      echo -e "${green}Done"

      ;;


# display a list of all commands
  -h)
    echo -e "${blue}usage: [-i install a program

        -R: remove a program

	-l: list all installed programs

	-Up: update a program
	
	-UP: update hexpmg
	
	-UN: uninstall hexpmg]
"
   ;;
  *)
   echo -e "${blue}usage: [-i: install a program

        -R: remove a program

        -l: list all installed programs

	-Up: update a program
	
	-UP: update hexpmg
	
	-UN: uninstall hexpmg]"

   ;;
esac
